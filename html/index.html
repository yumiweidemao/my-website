<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Shihua Cheng</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
    <script src="../js/math.js"></script>

    <script id="vert" type="glsl">
    #version 300 es
    layout(location=0) in vec4 position;
    layout(location=1) in vec4 color;
    out vec4 color2;
    uniform mat4 mv;
    uniform mat4 p;
    void main() {
        gl_Position = p * mv * position;
        color2 = color;
    }
    </script>
    
    <script id="frag" type="glsl">
    #version 300 es
    precision highp float;
    uniform vec4 color;
    out vec4 fragColor;
    in vec4 color2;
    void main() {
        fragColor = color2;
    }
    </script>

    <script>
    /**
     * Given the source code of a vertex and fragment shader, compiles them,
     * and returns the linked program.
     */
    function compileShader(vs_source, fs_source) {
        const vs = gl.createShader(gl.VERTEX_SHADER)
        gl.shaderSource(vs, vs_source)
        gl.compileShader(vs)
        if (!gl.getShaderParameter(vs, gl.COMPILE_STATUS)) {
            console.error(gl.getShaderInfoLog(vs))
            throw Error("Vertex shader compilation failed")
        }
    
        const fs = gl.createShader(gl.FRAGMENT_SHADER)
        gl.shaderSource(fs, fs_source)
        gl.compileShader(fs)
        if (!gl.getShaderParameter(fs, gl.COMPILE_STATUS)) {
            console.error(gl.getShaderInfoLog(fs))
            throw Error("Fragment shader compilation failed")
        }
    
        const program = gl.createProgram()
        gl.attachShader(program, vs)
        gl.attachShader(program, fs)
        gl.linkProgram(program)
        if (!gl.getProgramParameter(program, gl.LINK_STATUS)) {
            console.error(gl.getProgramInfoLog(program))
            throw Error("Linking failed")
        }
        
        const uniforms = {}
        for(let i=0; i<gl.getProgramParameter(program, gl.ACTIVE_UNIFORMS); i+=1) {
            let info = gl.getActiveUniform(program, i)
            uniforms[info.name] = gl.getUniformLocation(program, info.name)
        }
        program.uniforms = uniforms
    
        return program
    }
    
    /**
     * Sends per-vertex data to the GPU and connects it to a VS input
     * 
     * @param data    a 2D array of per-vertex data (e.g. [[x,y,z,w],[x,y,z,w],...])
     * @param loc     the layout location of the vertex shader's `in` attribute
     * @param mode    (optional) gl.STATIC_DRAW, gl.DYNAMIC_DRAW, etc
     * 
     * @returns the ID of the buffer in GPU memory; useful for changing data later
     */
    function supplyDataBuffer(data, loc, mode) {
        if (mode === undefined) mode = gl.STATIC_DRAW
        
        const buf = gl.createBuffer()
        gl.bindBuffer(gl.ARRAY_BUFFER, buf)
        const f32 = new Float32Array(data.flat())
        gl.bufferData(gl.ARRAY_BUFFER, f32, mode)
        
        gl.vertexAttribPointer(loc, data[0].length, gl.FLOAT, false, 0, 0)
        gl.enableVertexAttribArray(loc)
        
        return buf;
    }
    
    /**
     * Creates a Vertex Array Object and puts into it all of the data in the given
     * JSON structure, which should have the following form:
     * 
     * ````
     * {"triangles": a list of of indices of vertices
     * ,"attributes":
     *  [ a list of 1-, 2-, 3-, or 4-vectors, one per vertex to go in location 0
     *  , a list of 1-, 2-, 3-, or 4-vectors, one per vertex to go in location 1
     *  , ...
     *  ]
     * }
     * ````
     * 
     * @returns an object with four keys:
     *  - mode = the 1st argument for gl.drawElements
     *  - count = the 2nd argument for gl.drawElements
     *  - type = the 3rd argument for gl.drawElements
     *  - vao = the vertex array object for use with gl.bindVertexArray
     */
    function setupGeomery(geom) {
        var triangleArray = gl.createVertexArray()
        gl.bindVertexArray(triangleArray)
    
        for(let i=0; i<geom.attributes.length; i+=1) {
            let data = geom.attributes[i]
            supplyDataBuffer(data, i)
        }
    
        var indices = new Uint16Array(geom.triangles.flat())
        var indexBuffer = gl.createBuffer()
        gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, indexBuffer)
        gl.bufferData(gl.ELEMENT_ARRAY_BUFFER, indices, gl.STATIC_DRAW)
    
        return {
            mode: gl.TRIANGLES,
            count: indices.length,
            type: gl.UNSIGNED_SHORT,
            vao: triangleArray
        }
    }
    </script>
    
    <!-- All the other code in one big script element. -->
    <script>
    var tetrahedron =
        {"triangles":
            [0,1,2
            ,0,2,3
            ,0,3,1
            ,1,2,3
            ]
        ,"attributes":
            [ // position
                [[1,1,1],
                    [-1,-1,1],
                    [-1,1,-1],
                    [1,-1,-1]]
            , // color
                [[1,1,1],
                    [0,0,1],
                    [0,1,0],
                    [1,0,0]]
            ]
        }
    
    var octahedron =
        {"triangles":
            [0,1,2
            ,0,2,3
            ,0,3,4
            ,0,4,1
            ,5,1,4
            ,5,4,3
            ,5,3,2
            ,5,2,1
            ]
        ,"attributes":
            [ // position
                [[1,0,0],
                    [0,1,0],
                    [0,0,1],
                    [0,-1,0],
                    [0,0,-1],
                    [-1,0,0]]
            , // color
                [[1,0.5,0.5],
                    [0.5,1,0.5],
                    [0.5,0.5,1],
                    [0.5,0,0.5],
                    [0.5,0.5,0],
                    [0,0.5,0.5]]
            ]
        }
    
    
    /** Draw one frame */
    function draw(seconds) {
        gl.clear(gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT)
        gl.useProgram(program)
    
        // pass projection matrix to GPU
        gl.uniformMatrix4fv(program.uniforms.p, false, p)
    
        // view matrix
        let v = m4view([1,2.5,4], [0,0,0], [0,1,0])
    
        // draw octahedrons
        gl.bindVertexArray(geom2.vao)
    
        // Sun
        let m = m4rotY(Math.PI*seconds)
        gl.uniformMatrix4fv(program.uniforms.mv, false, m4mul(v,m))
        gl.drawElements(geom2.mode, geom2.count, geom2.type, 0)
    
        // Earth
        let m2 = m4mul(m4trans(2.5*Math.sin(seconds), 0, 1.5*Math.cos(seconds)), m4rotY(10*seconds), m4scale(0.4, 0.4, 0.4))
        gl.uniformMatrix4fv(program.uniforms.mv, false, m4mul(v,m2))
        gl.drawElements(geom2.mode, geom2.count, geom2.type, 0)
    
        // Mars
        let m3 = m4mul(m4trans(4.0*Math.sin(seconds/1.9), 0, 2.4*Math.cos(seconds/1.9)), m4rotY(10/2.2*seconds), m4scale(0.2, 0.2, 0.2))
        gl.uniformMatrix4fv(program.uniforms.mv, false, m4mul(v,m3))
        gl.drawElements(geom2.mode, geom2.count, geom2.type, 0)
    
        // draw tetrahedrons
        gl.bindVertexArray(geom.vao)
    
        // Moon
        let m4 = m4mul(m4trans(2.5*Math.sin(seconds), 0, 1.5*Math.cos(seconds)), // Earth's translation
                        m4trans(0.55*Math.sin(3*seconds), 0, 0.55*Math.cos(3*seconds)), // Moon orbit
                        m4rotY(3*seconds), // Moon rotation
                        m4scale(0.12, 0.12, 0.12))
        gl.uniformMatrix4fv(program.uniforms.mv, false, m4mul(v,m4))
        gl.drawElements(geom.mode, geom.count, geom.type, 0)
    
        // Phobos
        let m5 = m4mul(m4trans(4.0*Math.sin(seconds/1.9), 0, 2.4*Math.cos(seconds/1.9)), // Mars' translation
                        m4trans(0.25*Math.sin(12*seconds), 0, 0.25*Math.cos(12*seconds)), // Phobos orbit
                        m4rotY(12*seconds), // Phobos rotation
                        m4scale(0.06, 0.06, 0.06))
                        gl.uniformMatrix4fv(program.uniforms.mv, false, m4mul(v,m5))
        gl.drawElements(geom.mode, geom.count, geom.type, 0)
    
        // Deimos
        let m6 = m4mul(m4trans(4.0*Math.sin(seconds/1.9), 0, 2.4*Math.cos(seconds/1.9)), // Mars' translation
                        m4trans(0.5*Math.sin(6*seconds), 0, 0.5*Math.cos(6*seconds)), // Deimos orbit
                        m4rotY(6*seconds), // Deimos rotation
                        m4scale(0.03, 0.03, 0.03))
                        gl.uniformMatrix4fv(program.uniforms.mv, false, m4mul(v,m6))
        gl.drawElements(geom.mode, geom.count, geom.type, 0)
    }
    
    /** Compute any time-varying or animated aspects of the scene */
    function tick(milliseconds) {
        let seconds = milliseconds / 1000;
    
        draw(seconds)
        requestAnimationFrame(tick)
    }
    
    /** Resizes the canvas to completely fill the screen */
    function fillScreen() {
        let canvas = document.querySelector('canvas')
        document.body.style.margin = '0'
        canvas.style.width = '100vw'
        canvas.style.height = '100vh'
        canvas.width = canvas.clientWidth/1.4
        canvas.height = canvas.clientWidth/2.8
        canvas.style.width = ''
        canvas.style.height = ''
        if (window.gl) {
            gl.viewport(0,0, canvas.width, canvas.height)
            window.p = m4perspNegZ(0.1, 10, 1.5, canvas.width, canvas.height)
        }
    }
    
    /** Compile, link, set up geometry */
    window.addEventListener('load', async (event) => {
        window.gl = document.querySelector('canvas').getContext('webgl2',
            // optional configuration object: see https://developer.mozilla.org/en-US/docs/Web/API/HTMLCanvasElement/getContext
            {antialias: false, depth:true, preserveDrawingBuffer:true}
        )
        let vs = document.querySelector('#vert').textContent.trim()
        let fs = document.querySelector('#frag').textContent.trim()
        window.program = compileShader(vs,fs)
        gl.enable(gl.DEPTH_TEST)
        window.geom = setupGeomery(tetrahedron)
        window.geom2 = setupGeomery(octahedron)
        fillScreen()
        window.addEventListener('resize', fillScreen)
        requestAnimationFrame(tick)
    })
    </script>

    <style>
        body {
            background-color: #f2f2f2;
        }
        .jumbotron {
            background-color: #ffffff;
            padding: 50px 25px;
        }
        .fade-in-slow {
            animation: fadeIn 3.5s;
        }
        .fade-in {
            animation: fadeIn 1.5s;
        }
        @keyframes fadeIn {
            from {
                opacity: 0;
            }
            to {
                opacity: 1;
            }
        }
        #projectsHeader {
            cursor: pointer;
            color: #000000;
        }
        #projectsHeader:hover {
            text-decoration: underline;
        }
    </style>
</head>
<body>
    <div class="jumbotron text-center fade-in">
        <h1 class="display-3">Shihua Cheng</h1>
        <hr>
        <div class="row justify-content-center mt-4">
            <div class="col-6 col-md-1">
                <a href="https://github.com/yumiweidemao" target="_blank">
                    <img src="../images/github-logo.png" alt="Github" class="img-fluid" width="80">
                </a>
            </div>
            <div class="col-6 col-md-1">
                <a href="https://www.linkedin.com/in/shihua-cheng-691b0b249/" target="_blank">
                    <img src="../images/linkedin-logo.png" alt="LinkedIn" class="img-fluid" width="88">
                </a>
            </div>
        </div>
    </div>
    <div class="container mt-5 fade-in-slow">
        <p class="mb-0">
            Hi! I'm currently a senior student at UIUC. I'm originally from Shanghai, China. I'm majoring in Electrical Engineering so I know about electromagnetics, semiconductors, circuits, and signal processing. I also have a minor in Computer Science and have taken a lot of software engineering courses since I'm interested in programming. I can code proficiently in Python, C and C++. My favorite part in programming is not writing code itself, but the logical and structural essence of building impactful software. I like Python and C best because I can write useful code efficiently in Python, and I have all the freedom I need to write fast and memory-efficient code in C.
        </p>
        <br>
        <h2>Education</h2>
        <div class="row">
            <div class="col-md-12">
                <div class="mt-4">
                    <h5>University of Illinois at Urbana-Champaign <span class="text-muted">|</span> Undergraduate <span class="text-muted">|</span> 2020.08-2023.12 <span class="text-muted">|</span> Champaign, IL, United States</h5>
                    <p class="mb-0">Undergraduate at UIUC, major in Electrical Engineering, minor in Computer Science.</p>
                </div>
                <hr>
            </div>
        </div>
        <br>
        <h2>Experience</h2>
        <div class="row">
            <div class="col-md-12"> 
                <div class="mt-4">
                    <h5>Amazon <span class="text-muted">|</span> SDE Intern <span class="text-muted">|</span> 2023.05-2023.08 <span class="text-muted">|</span> Cupertino, CA, United States</h5>
                    <p class="mb-0">Owned a project on agricultural application of wireless mesh network, delivering soil data from farm field to AWS-IoT cloud. IoT, sensors, constrained devices, embedded systems, Sub-GHz wireless protocols.</p>
                </div>
                <hr>
                <div class="mt-4">
                    <h5>Huawei Technologies <span class="text-muted">|</span> SDE Intern <span class="text-muted">|</span> 2022.07-2022.08 <span class="text-muted">|</span> Shanghai, China</h5>
                    <p class="mb-0">Tested network function performance of a TEE (trusted execution environment) operating system used in base stations. Network protocols, Python & bash scripts, Linux CLI commands.</p>
                </div>
                <hr>
                <div class="mt-4">
                    <h5>Festo Corporation <span class="text-muted">|</span> Embedded Software Engineer Intern <span class="text-muted">|</span> 2021.06-2021.08 <span class="text-muted">|</span> Shanghai, China</h5>
                    <p class="mb-0">Designed and implemented a motor control algorithm on an STM32 ARM-architecture microprocessor used in electric grippers. Sensors, interrupt handling.</p>
                </div>
                <hr>
            </div>
        </div>
        <br>
        <h2 id="projectsHeader" data-toggle="collapse" data-target="#projectsContent">
            Projects <span id="arrow">&#9662;</span>
        </h2>
        <div id="projectsContent" class="collapse">
            <div class="row">
                <div class="col-md-12"> 
                    <div class="mt-4">
                        <h5>California Road</h5>
                        <p class="mb-0">Designed a multi-threaded implementation of Brandes' algorithm in C++ on a dataset of California roads and used graphic libraries to visualize the result.</p>
                    </div>
                    <hr>
                    <div class="mt-4">
                        <h5>4-D Parallel Convolution Optimization</h5>
                        <p class="mb-0">Optimized a 4-d parallel convolution algorithm based on CUDA using FP16 arithmetic, tiling and CUDA streams. Achieved much better kernel and overall computation time.</p>
                    </div>
                    <hr>
                    <div class="mt-4">
                        <h5>Super Mario in SystemVerilog</h5>
                        <p class="mb-0">Developed a simple version of Super Mario based on SystemVerilog. FPGA, VGA interface, frame buffer, USB driver.</p>
                    </div>
                    <hr>
                    <div class="mt-4">
                        <p class="mb-0">Hit my <a href="https://github.com/yumiweidemao">Github link</a> to check out these projects and more!</p>
                    </div>
                </div>
            </div>
        </div>
        <br>
        <br>
        <h2>Contact</h2>
        <div class="row">
            <div class="col-md-12">
                <div class="mt-4">
                    <ul>
                        <li>Email: shihuac2@illinois.edu</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>
    <script>
        $('#projectsContent').on('shown.bs.collapse', function() {
            document.getElementById("arrow").innerHTML = "&#9652;";
        })
        
        $('#projectsContent').on('hidden.bs.collapse', function() {
            document.getElementById("arrow").innerHTML = "&#9662;";
        })
    </script>
    <center>
        <canvas width="600" height="300"></canvas>
    </center>
</body>
</html>
